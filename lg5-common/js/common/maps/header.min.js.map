{"version":3,"file":"../header.min.js","sources":["header.js"],"sourcesContent":["\r\ndefine('common/header', ['jquery', 'vcui'], function ($, core) {\r\n    \"use strict\";\r\n\r\n    var Header = core.ui('Header', {\r\n        bindjQuery: true,\r\n        defaults: {\r\n        },\r\n\r\n        initialize: function initialize(el, options) {\r\n            var self = this;\r\n            \r\n            if (self.supr(el, options) === false) {\r\n                return;\r\n            };\r\n\r\n            self.isTrans = false;\r\n\r\n            self.isHover = false;\r\n            self.outTimer = null;\r\n\r\n            self.isCategoryHover = false;\r\n            self.categoryOutTimer = null;\r\n\r\n            self.gnbMode = \"pc\";\r\n\r\n            self.prodWidth = 0;\r\n            \r\n            self._setting();\r\n            self._bindEvents();\r\n            self._resize();\r\n        },\r\n\r\n        _setting: function(){\r\n            var self = this;\r\n\r\n            console.log(\"ddddd\")\r\n\r\n            self.$naviWrapper = self.$el.find(\".header-bottom\");\r\n            self.$prodWrapper = self.$naviWrapper.find('.nav-category-product');\r\n            self.$product = self.$prodWrapper.find('.nav-item');\r\n            self.$categoryWrapper = self.$prodWrapper.find('.nav-category-container');\r\n            self.$category = self.$categoryWrapper.find('> ul');\r\n            self.$categoryItems = self.$category.children();\r\n\r\n            self.$menuOpener = self.$el.find('.mobile-nav-button');\r\n\r\n            self.prodWidth = self.$categoryWrapper.width();\r\n        },\r\n\r\n        _resize: function(){\r\n            var self = this;\r\n            var winwidth = $(window).outerWidth(true);\r\n            if(winwidth > 1130){\r\n                self._menuToggleDisabled();\r\n                self.gnbMode = \"pc\";\r\n            } else{\r\n                self._gnbInit();\r\n                self.gnbMode = \"m\"; \r\n            }\r\n        },\r\n\r\n        _bindEvents: function(){\r\n            var self = this;\r\n\r\n            self.$el.on('mouseover', function(){\r\n                if(self.isHover){\r\n                    self._setOver();\r\n                }\r\n            }).on('mouseout', function(){\r\n                if(self.isHover){\r\n                    self._setOutTimer();\r\n                }\r\n            });\r\n\r\n            self.$prodWrapper.on('mouseover', function(){\r\n                self._setOver();\r\n            });\r\n\r\n            self.$product.on('click', function(e){\r\n                if(self.gnbMode == \"m\"){\r\n                    e.preventDefault();\r\n\r\n                    self._setProductActiveToggle(!self.$product.hasClass('active'));\r\n                }\r\n            });\r\n\r\n            self.$categoryItems.each(function(idx, item){\r\n                $(item).on('mouseover', function(){\r\n                    if(!self.isCategoryHover) self._setCategoryOver(idx);\r\n                }).on('mouseout', function(){\r\n                    if(self.isCategoryHover) self._setCategoryOut(idx);\r\n                });\r\n            });\r\n\r\n            self.$menuOpener.on('click', function(e){\r\n                e.preventDefault();\r\n\r\n                self._menuToggle();\r\n            });\r\n\r\n            $(window).on('resize', function(){\r\n                self._resize();\r\n            });\r\n        },\r\n\r\n        _menuToggle: function(){\r\n            var self = this,\r\n            active, replaceText;\r\n\r\n            replaceText = self.$menuOpener.find('.blind');\r\n            active = self.$menuOpener.hasClass('active');\r\n\r\n            if(active){\r\n                self.$menuOpener.removeClass('active');\r\n                replaceText.text(\"메뉴 열기\");\r\n\r\n                if($('html').hasClass('scroll-fixed')) $('html').removeClass('scroll-fixed');\r\n            } else{\r\n                self.$menuOpener.addClass('active');\r\n                replaceText.text(\"메뉴 닫기\");\r\n\r\n                if(!$('html').hasClass('scroll-fixed')) $('html').addClass('scroll-fixed');\r\n            }\r\n        },\r\n\r\n        _menuToggleDisabled: function(){\r\n            var self = this;\r\n\r\n            var replaceText = self.$menuOpener.find('.blind');\r\n            replaceText.text(\"메뉴 열기\");\r\n\r\n            self.$menuOpener.removeClass('active');\r\n\r\n            if($('html').hasClass('scroll-fixed')) $('html').removeClass('scroll-fixed');\r\n        },\r\n\r\n        _menuToggleTansition: function(){\r\n\r\n        },\r\n\r\n        _gnbInit: function(){\r\n            var self = this;\r\n\r\n            self._removeOutTimer();\r\n            self._setOut();\r\n            \r\n            self._setRemoveCategoryOutTimer();\r\n            self._setCategoryOut();\r\n        },\r\n\r\n        _setCategoryOver: function(idx){\r\n            var self = this;\r\n\r\n            if(self.gnbMode == \"pc\"){\r\n                self.isCategoryHover = true;\r\n    \r\n                var categoryItem = self.$categoryItems.eq(idx);\r\n                var categoryAtag = categoryItem.find('.super-category-item');\r\n                if(!categoryAtag.hasClass('active')) categoryAtag.addClass('active');\r\n            }\r\n        },\r\n\r\n        _setCategoryOutTimer: function(idx){\r\n            var self = this;\r\n\r\n            if(self.gnbMode == \"pc\"){\r\n                self.categoryOutTimer = setTimeout(function(){\r\n                    self._setCategoryOut(idx);\r\n                }, 128);\r\n            }\r\n        },\r\n\r\n        _setRemoveCategoryOutTimer: function(){\r\n            var self = this;\r\n\r\n            if(self.categoryOutTimer != null){\r\n                clearTimeout(self.categoryOutTimer);\r\n\r\n                self.categoryOutTimer = null;\r\n            }\r\n        },\r\n\r\n        _setCategoryOut: function(idx){\r\n            var self = this;\r\n\r\n            self.isCategoryHover = false;\r\n\r\n            if(self.gnbMode == \"pc\"){\r\n                var categoryItem = self.$categoryItems.eq(idx);\r\n                var categoryAtag = categoryItem.find('.super-category-item');\r\n                if(categoryAtag.hasClass('active')) categoryAtag.removeClass('active');\r\n            }\r\n        },\r\n\r\n        _setOver: function(){\r\n            var self = this,\r\n            navItem;\r\n\r\n            if(self.gnbMode == \"pc\"){\r\n                self._removeOutTimer();\r\n    \r\n                self.isHover = true;\r\n    \r\n                self._setProductActiveToggle(true);\r\n            }\r\n        },\r\n\r\n        _setOutTimer: function(){\r\n            var self = this;\r\n\r\n            if(self.gnbMode == \"pc\"){\r\n                self.outTimer = setTimeout(function(){\r\n                    self._setOut();\r\n                }, 128);\r\n            }\r\n        },\r\n\r\n        _removeOutTimer: function(){\r\n            var self = this;\r\n\r\n            if(self.gnbMode == \"pc\" && self.outTimer != null){\r\n                clearTimeout(self.outTimer);\r\n\r\n                self.outTimer = null;\r\n            }\r\n        },\r\n\r\n        _setOut: function(){\r\n            var self = this;\r\n            \r\n            self.isHover = false;\r\n\r\n            if(self.gnbMode == \"pc\"){\r\n                self._setProductActiveToggle(false);\r\n            }\r\n        },\r\n\r\n        _setProductActiveToggle: function(active){\r\n            var self = this;\r\n\r\n            var replaceText = self.$product.find('.blind');\r\n            if(active){\r\n                if(!self.$product.hasClass('active')) self.$product.addClass('active');\r\n                replaceText.text('제품 메뉴 닫기');\r\n            } else{\r\n                if(self.$product.hasClass('active')) self.$product.removeClass('active');\r\n                replaceText.text('제품 메뉴 열기');\r\n            }\r\n        }\r\n    });\r\n\r\n    return Header;\r\n});"],"names":["define","$","core","ui","bindjQuery","defaults","initialize","el","options","self","this","supr","isTrans","isHover","outTimer","isCategoryHover","categoryOutTimer","gnbMode","prodWidth","_setting","_bindEvents","_resize","console","log","$naviWrapper","$el","find","$prodWrapper","$product","$categoryWrapper","$category","$categoryItems","children","$menuOpener","width","window","outerWidth","_menuToggleDisabled","_gnbInit","on","_setOver","_setOutTimer","e","preventDefault","_setProductActiveToggle","hasClass","each","idx","item","_setCategoryOver","_setCategoryOut","_menuToggle","replaceText","removeClass","text","addClass","_menuToggleTansition","_removeOutTimer","_setOut","_setRemoveCategoryOutTimer","categoryAtag","eq","_setCategoryOutTimer","setTimeout","clearTimeout","active"],"mappings":"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"}