{"version":3,"file":"../header.min.js","sources":["header.js"],"sourcesContent":["\ndefine('common/header', ['jquery', 'vcui'], function ($, core) {\n    \"use strict\";\n\n    var Header = core.ui('Header', {\n        bindjQuery: true,\n        defaults: {\n        },\n\n        initialize: function initialize(el, options) {\n            var self = this;\n            \n            if (self.supr(el, options) === false) {\n                return;\n            };\n\n            self.isTrans = false;\n\n            self.isHover = false;\n            self.outTimer = null;\n\n            self.isCategoryHover = false;\n            self.categoryOutTimer = null;\n\n            self.gnbMode = \"pc\";\n\n            self.prodWidth = 0;\n            \n            self._setting();\n            self._bindEvents();\n            self._resize();\n        },\n\n        _setting: function(){\n            var self = this;\n\n            console.log(\"ddddd\")\n\n            self.$naviWrapper = self.$el.find(\".header-bottom\");\n            self.$prodWrapper = self.$naviWrapper.find('.nav-category-product');\n            self.$product = self.$prodWrapper.find('.nav-item');\n            self.$categoryWrapper = self.$prodWrapper.find('.nav-category-container');\n            self.$category = self.$categoryWrapper.find('> ul');\n            self.$categoryItems = self.$category.children();\n\n            self.$menuOpener = self.$el.find('.mobile-nav-button');\n\n            self.prodWidth = self.$categoryWrapper.width();\n        },\n\n        _resize: function(){\n            var self = this;\n            var winwidth = $(window).outerWidth(true);\n            if(winwidth > 1130){\n                self._menuToggleDisabled();\n                self.gnbMode = \"pc\";\n            } else{\n                self._gnbInit();\n                self.gnbMode = \"m\"; \n            }\n        },\n\n        _bindEvents: function(){\n            var self = this;\n\n            self.$el.on('mouseover', function(){\n                if(self.isHover){\n                    self._setOver();\n                }\n            }).on('mouseout', function(){\n                if(self.isHover){\n                    self._setOutTimer();\n                }\n            });\n\n            self.$prodWrapper.on('mouseover', function(){\n                self._setOver();\n            });\n\n            self.$product.on('click', function(e){\n                if(self.gnbMode == \"m\"){\n                    e.preventDefault();\n\n                    self._setProductActiveToggle(!self.$product.hasClass('active'));\n                }\n            });\n\n            self.$categoryItems.each(function(idx, item){\n                $(item).on('mouseover', function(){\n                    if(!self.isCategoryHover) self._setCategoryOver(idx);\n                }).on('mouseout', function(){\n                    if(self.isCategoryHover) self._setCategoryOut(idx);\n                });\n            });\n\n            self.$menuOpener.on('click', function(e){\n                e.preventDefault();\n\n                self._menuToggle();\n            });\n\n            $(window).on('resize', function(){\n                self._resize();\n            });\n        },\n\n        _menuToggle: function(){\n            var self = this,\n            active, replaceText;\n\n            replaceText = self.$menuOpener.find('.blind');\n            active = self.$menuOpener.hasClass('active');\n\n            if(active){\n                self.$menuOpener.removeClass('active');\n                replaceText.text(\"메뉴 열기\");\n\n                if($('html').hasClass('scroll-fixed')) $('html').removeClass('scroll-fixed');\n            } else{\n                self.$menuOpener.addClass('active');\n                replaceText.text(\"메뉴 닫기\");\n\n                if(!$('html').hasClass('scroll-fixed')) $('html').addClass('scroll-fixed');\n            }\n        },\n\n        _menuToggleDisabled: function(){\n            var self = this;\n\n            var replaceText = self.$menuOpener.find('.blind');\n            replaceText.text(\"메뉴 열기\");\n\n            self.$menuOpener.removeClass('active');\n\n            if($('html').hasClass('scroll-fixed')) $('html').removeClass('scroll-fixed');\n        },\n\n        _menuToggleTansition: function(){\n\n        },\n\n        _gnbInit: function(){\n            var self = this;\n\n            self._removeOutTimer();\n            self._setOut();\n            \n            self._setRemoveCategoryOutTimer();\n            self._setCategoryOut();\n        },\n\n        _setCategoryOver: function(idx){\n            var self = this;\n\n            if(self.gnbMode == \"pc\"){\n                self.isCategoryHover = true;\n    \n                var categoryItem = self.$categoryItems.eq(idx);\n                var categoryAtag = categoryItem.find('.super-category-item');\n                if(!categoryAtag.hasClass('active')) categoryAtag.addClass('active');\n            }\n        },\n\n        _setCategoryOutTimer: function(idx){\n            var self = this;\n\n            if(self.gnbMode == \"pc\"){\n                self.categoryOutTimer = setTimeout(function(){\n                    self._setCategoryOut(idx);\n                }, 128);\n            }\n        },\n\n        _setRemoveCategoryOutTimer: function(){\n            var self = this;\n\n            if(self.categoryOutTimer != null){\n                clearTimeout(self.categoryOutTimer);\n\n                self.categoryOutTimer = null;\n            }\n        },\n\n        _setCategoryOut: function(idx){\n            var self = this;\n\n            self.isCategoryHover = false;\n\n            if(self.gnbMode == \"pc\"){\n                var categoryItem = self.$categoryItems.eq(idx);\n                var categoryAtag = categoryItem.find('.super-category-item');\n                if(categoryAtag.hasClass('active')) categoryAtag.removeClass('active');\n            }\n        },\n\n        _setOver: function(){\n            var self = this,\n            navItem;\n\n            if(self.gnbMode == \"pc\"){\n                self._removeOutTimer();\n    \n                self.isHover = true;\n    \n                self._setProductActiveToggle(true);\n            }\n        },\n\n        _setOutTimer: function(){\n            var self = this;\n\n            if(self.gnbMode == \"pc\"){\n                self.outTimer = setTimeout(function(){\n                    self._setOut();\n                }, 128);\n            }\n        },\n\n        _removeOutTimer: function(){\n            var self = this;\n\n            if(self.gnbMode == \"pc\" && self.outTimer != null){\n                clearTimeout(self.outTimer);\n\n                self.outTimer = null;\n            }\n        },\n\n        _setOut: function(){\n            var self = this;\n            \n            self.isHover = false;\n\n            if(self.gnbMode == \"pc\"){\n                self._setProductActiveToggle(false);\n            }\n        },\n\n        _setProductActiveToggle: function(active){\n            var self = this;\n\n            var replaceText = self.$product.find('.blind');\n            if(active){\n                if(!self.$product.hasClass('active')) self.$product.addClass('active');\n                replaceText.text('제품 메뉴 닫기');\n            } else{\n                if(self.$product.hasClass('active')) self.$product.removeClass('active');\n                replaceText.text('제품 메뉴 열기');\n            }\n        }\n    });\n\n    return Header;\n});"],"names":["define","$","core","ui","bindjQuery","defaults","initialize","el","options","self","this","supr","isTrans","isHover","outTimer","isCategoryHover","categoryOutTimer","gnbMode","prodWidth","_setting","_bindEvents","_resize","console","log","$naviWrapper","$el","find","$prodWrapper","$product","$categoryWrapper","$category","$categoryItems","children","$menuOpener","width","window","outerWidth","_menuToggleDisabled","_gnbInit","on","_setOver","_setOutTimer","e","preventDefault","_setProductActiveToggle","hasClass","each","idx","item","_setCategoryOver","_setCategoryOut","_menuToggle","replaceText","removeClass","text","addClass","_menuToggleTansition","_removeOutTimer","_setOut","_setRemoveCategoryOutTimer","categoryAtag","eq","_setCategoryOutTimer","setTimeout","clearTimeout","active"],"mappings":"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"}